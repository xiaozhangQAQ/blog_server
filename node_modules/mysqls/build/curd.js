"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys);exports.select=select,exports.update=update,exports.insert=insert,exports.delet=delet,exports.query=query;var _uitl=require("./uitl");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function select(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t="";if(this.sqlObj.union)return t=-1!=(t=this.sqlObj.union).substr(-10).indexOf("ALL")?t.replace(/\sUNION\sALL\s*$/,""):t.replace(/\sUNION\s*$/,""),this.sqlObj={},t;var s=(0,_uitl.sortSelectSql)(this.sqlObj);s.sortkeys.forEach(function(e){s.result[e]&&(t=t+" "+s.result[e])});var l="SELECT "+t.replace(/'/g,"'").replace(/`/g,"'")+" ";return e?(this.sqlObj.sqlStr=l,this):(this.sqlObj={},l)}function update(){var s=0<arguments.length&&void 0!==arguments[0]&&arguments[0],l=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r="",i=this.sqlObj.data,h=(0,_keys2.default)(i);h.forEach(function(e,t){r=t==h.length-1?""+r+e+"="+(0,_uitl.checkOptType)(i[e],e,s,l):""+r+e+"="+(0,_uitl.checkOptType)(i[e],e,s,l)+","});var e=(this.sqlObj.where?"UPDATE "+this.sqlObj.table+" SET "+r+" WHERE "+this.sqlObj.where:"UPDATE "+this.sqlObj.table+" SET "+r).replace(/'/g,"'").replace(/`/g,"'");return s&&!l?(this.sqlObj.sqlStr=e,this):(this.sqlObj={},e)}function insert(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.sqlObj.data,s=(0,_uitl.handleInsertData)(t),l=("INSERT INTO "+this.sqlObj.table+" "+s).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=l,this):(this.sqlObj={},l)}function delet(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=(this.sqlObj.where?"DELETE FROM "+this.sqlObj.table+" WHERE "+this.sqlObj.where:"DELETE FROM "+this.sqlObj.table).replace(/'/g,"'").replace(/`/g,"'");return e?(this.sqlObj.sqlStr=t,this):(this.sqlObj={},t)}function query(e){return e=e||"",1<arguments.length&&void 0!==arguments[1]&&arguments[1]?(this.sqlObj.sqlStr=e,this):e}